<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Canvas tutorial</title>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/windowgame.js"></script>
    <script type="text/javascript">
		var game = null;
        $(document).ready(function(){
            game = new WindowGame('canvas');
            var ctx = game.getContext();

            var scene = new Scene(game.getWidth(),game.getHeight());
            game.addScene(scene);

            var obj_player = new GameObject(20,20,50,50);
            scene.add(obj_player);
			// Posicionando a camera conforme o player
			scene.camera.move(obj_player.x - 20,obj_player.y - 100);

			var chao = new GameObject(30,250,340,10);
            scene.add(chao);

            var speed = 4;
            obj_player.update(function(){
                var key = game.getKeyPress();
                if (key){
					key = key.toLowerCase();
                    if (key == 'left' || key == 'a'){
                        obj_player.x -= speed;
						scene.camera.move(obj_player.x - 20,obj_player.y - 100);
                    } else if (key == 'right' || key == 'd'){
                        obj_player.x += speed;
						scene.camera.move(obj_player.x - 20,obj_player.y - 100);
                    } else if (key == 'up' || key == 'w'){
                        obj_player.y -= speed;
						scene.camera.move(obj_player.x - 20,obj_player.y - 100);
                    } else if (key == 'down' || key == 's'){
                        obj_player.y += speed;
						scene.camera.move(obj_player.x - 20,obj_player.y - 100);
                    }
                }
            });

            game.init();
        });
    </script>
    <style type="text/css">
		.container{
			margin: 10px auto;
			width: 600px;
		}
		canvas { 
		    border: 1px solid black; 
	    }
    </style>
  </head>
  <body>
	  <canvas id="canvas" width="600" height="600"></canvas>
  </body>
</html>
